<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Decoder Wheels</title>
<style>
  body {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-family: sans-serif;
    margin-top: 50px;
  }

  .wheel-container {
    position: relative;
    width: 360px;
    height: 360px;
    margin-bottom: 20px;
  }

  .wheel {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    transform: translate(-50%, -50%);
  }

  /* Distinct borders for each wheel */
  #wheel0 { border: 3px solid #333; }   /* outer */
  #wheel1 { border: 3px solid #555; }   /* inner 1 */
  #wheel2 { border: 3px solid #777; }   /* inner 2 */
  #wheel3 { border: 3px solid #999; }   /* inner 3 */

  .item {
    position: absolute;
    text-align: center;
    font-size: 18px;
    width: 30px;
    height: 30px;
    font-weight: bold;
  }

  /* Color-coded items (subtle shades) */
  #wheel0 .item { color: #111; }  /* dark gray for outer */
  #wheel1 .item { color: #333; }  /* medium gray */
  #wheel2 .item { color: #555; }  /* lighter gray */
  #wheel3 .item { color: #777; }  /* light gray for innermost */

  .viewing-window {
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    font-size: 28px;
    font-weight: bold;
    background: #fff;
    padding: 10px 20px;
    border-radius: 10px;
    border: 2px solid #333;
    z-index: 10;
  }

  .controls {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 20px;
  }

  .controls button {
    padding: 8px 12px;
    font-size: 16px;
  }
</style>
</head>
<body>

<div class="wheel-container">
  <div id="wheel0" class="wheel"></div>
  <div id="wheel1" class="wheel"></div>
  <div id="wheel2" class="wheel"></div>
  <div id="wheel3" class="wheel"></div>
  <div class="viewing-window" id="view">0</div>
</div>

<div class="controls">
  <div>
    <button onclick="rotateWheel(0, -1)">▲ Left</button>
    <button onclick="rotateWheel(0, 1)">▲ Right</button>
  </div>
  <div>
    <button onclick="rotateWheel(1, -1)">1 Left</button>
    <button onclick="rotateWheel(1, 1)">1 Right</button>
  </div>
  <div>
    <button onclick="rotateWheel(2, -1)">2 Left</button>
    <button onclick="rotateWheel(2, 1)">2 Right</button>
  </div>
  <div>
    <button onclick="rotateWheel(3, -1)">3 Left</button>
    <button onclick="rotateWheel(3, 1)">3 Right</button>
  </div>
</div>

<script>
const wheels = [
  ['▲', '■', '●', '★', '♠', '♣', '▬', '☀', '♥', '☂'],
  [0,1,2,3,4,5,6,7,8,9],
  [0,1,2,3,4,5,6,7,8,9],
  [0,1,2,3,4,5,6,7,8,9]
];

const predefined = {
  '▲,4,8,6': 17,
  '■,3,4,9': 20,
  '●,9,0,1': 21,
  '★,1,8,2': 6,
  '♠,8,2,7': 1,
  '♣,3,0,6': 7,
  '▬,8,1,2': 12,
  '☀,3,7,9': 16,
  '♥,0,3,4': 28,
  '☂,6,2,5': 3
};

const fallback = [2, 4, 5, 8, 9, 10, 11, 13, 14, 15, 18, 19, 22, 23, 24, 25, 26, 27, 29, 30];

let positions = [0,0,0,0]; // current index of each wheel

// Draw wheels
for(let w=0; w<4; w++){
  const wheelEl = document.getElementById(`wheel${w}`);
  const n = wheels[w].length;
  // radius slightly more spaced out for innermost wheel
  const radius = w === 3 ? 60 : 140 - w*30;  
  for(let i=0; i<n; i++){
    const item = document.createElement('div');
    item.className = 'item';
    item.textContent = wheels[w][i];
    const angle = i * 36 * Math.PI / 180;
    const x = 180 + radius * Math.sin(angle) - 15;
    const y = 180 - radius * Math.cos(angle) - 15;
    item.style.left = x + 'px';
    item.style.top = y + 'px';
    wheelEl.appendChild(item);
  }
}

// Rotate wheel
function rotateWheel(wheelIndex, dir){
  positions[wheelIndex] = (positions[wheelIndex] + dir + 10) % 10;
  const wheelEl = document.getElementById(`wheel${wheelIndex}`);
  const items = wheelEl.children;
  const radius = wheelIndex === 3 ? 60 : 140 - wheelIndex*30;
  for(let i=0; i<items.length; i++){
    const angle = ((i - positions[wheelIndex]) * 36) * Math.PI / 180;
    const x = 180 + radius * Math.sin(angle) - 15;
    const y = 180 - radius * Math.cos(angle) - 15;
    items[i].style.left = x + 'px';
    items[i].style.top = y + 'px';
  }
  updateView();
}

// Update viewing window
function updateView(){
  const key = wheels[0][positions[0]] + ',' +
              wheels[1][positions[1]] + ',' +
              wheels[2][positions[2]] + ',' +
              wheels[3][positions[3]];
  if(predefined[key] !== undefined){
    document.getElementById('view').textContent = predefined[key];
  } else {
    document.getElementById('view').textContent = fallback[Math.floor(Math.random()*fallback.length)];
  }
}

updateView();
</script>

</body>
</html>
